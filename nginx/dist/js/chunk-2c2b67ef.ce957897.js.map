{"version":3,"sources":["webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/views/cosList.vue?2083","webpack:///src/views/cosList.vue","webpack:///./src/views/cosList.vue?3eff","webpack:///./src/views/cosList.vue"],"names":["toObject","toAbsoluteIndex","lengthOfArrayLike","module","exports","value","O","this","length","argumentsLength","arguments","index","undefined","end","endPos","$","global","toIntegerOrInfinity","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","TypeError","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","len","actualStart","fill","addToUnscopables","render","_vm","_h","$createElement","_c","_self","staticClass","_l","cos","key","prdname","attrs","name","params","id","image","_v","_s","brand","btn_color_list","on","$event","cosLike","count","page_function","page_num","model","callback","$$v","expression","staticRenderFns","data","cosList","next","previus","idx","Array","computed","mounted","methods","cosPk","method","url","pk","headers","Authorization","component","VBtn","VCard","VCol","VContainer","VIcon","VImg","VPagination","VRow"],"mappings":"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","file":"js/chunk-2c2b67ef.ce957897.js","sourcesContent":["'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = lengthOfArrayLike(O);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar TypeError = global.TypeError;\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"grey lighten-5\"},[_c('div',[_c('v-row',_vm._l((_vm.cosList),function(cos){return _c('v-col',{key:cos.prdname,attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-card',{staticClass:\"pa-2\",attrs:{\"outlined\":\"\",\"tile\":\"\",\"router\":\"\",\"to\":{ name: 'cosdetail', params: { id: cos.id } }}},[_c('v-img',{attrs:{\"src\":cos.image,\"height\":\"100\",\"width\":\"100\"}}),_vm._v(\" \"+_vm._s(cos.prdname)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(cos.brand)+\" \"),_c('br')],1),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":_vm.btn_color_list[cos.id]},on:{\"click\":function($event){return _vm.cosLike(cos.id, cos)}}},[_c('v-icon',[_vm._v(\"mdi-heart\")])],1)],1)}),1)],1),_c('div',[_c('v-pagination',{attrs:{\"length\":_vm.count,\"total-visible\":7},on:{\"input\":function($event){return _vm.page_function(_vm.page_num)}},model:{value:(_vm.page_num),callback:function ($$v) {_vm.page_num=$$v},expression:\"page_num\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container class=\"grey lighten-5\">\n    <div>\n      <v-row>\n        <!-- 12(cols) 기준으로 12/4(md) == 3이므로 각 행에 3개의 열이 들어간다 -->\n        <v-col\n          v-for=\"cos in cosList\"\n          :key=\"cos.prdname\"\n          cols=\"12\"\n          sm=\"6\"\n          md=\"4\"\n        >\n          <v-card\n            class=\"pa-2\"\n            outlined\n            tile\n            router\n            :to=\"{ name: 'cosdetail', params: { id: cos.id } }\"\n          >\n            <v-img :src=\"cos.image\" height=\"100\" width=\"100\" />\n            {{ cos.prdname }} <br />\n            {{ cos.brand }} <br />\n          </v-card>\n          <v-btn\n            icon\n            @click=\"cosLike(cos.id, cos)\"\n            :color=\"btn_color_list[cos.id]\"\n          >\n            <v-icon>mdi-heart</v-icon>\n          </v-btn>\n        </v-col>\n      </v-row>\n    </div>\n    <div>\n      <v-pagination\n        v-model=\"page_num\"\n        :length=\"count\"\n        :total-visible=\"7\"\n        @input=\"page_function(page_num)\"\n      ></v-pagination>\n    </div>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      cosList: null,\n      page_num: 1,\n      next: null,\n      previus: null,\n      idx: 0,\n      count: null,\n      // btn_color: 'disable',\n      btn_color_list: Array(),\n    };\n  },\n  computed: {\n    ...mapState([\"userInfo\"]),\n  },\n  mounted() {\n    // axios.get('http://127.0.0.1:8000/app/cos_list/', {\n    //     params: {\n    //     }\n    //   })\n    //   .then(response => {\n    //     // handle success\n    //     console.log(response);\n    //     this.cosList = response.data.results\n    //     this.next = response.data.next\n    //     this.previous = response.data.previous\n    //     this.count = parseInt(response.data.count/60)\n    //   })\n    //   .catch(error => {\n    //       // handle error\n    //       console.log(error);\n    //   });\n    this.page_function(this.page_num);\n  },\n  methods: {\n    page_function(page_num) {\n      axios\n        .get(\"http://127.0.0.1:8000/app/cos_list/\", {\n          params: {\n            page: page_num,\n          },\n        })\n        .then((response) => {\n          // handle success\n          // console.log(response);\n          this.cosList = response.data.results;\n          this.next = response.data.next;\n          this.previous = response.data.previous;\n          this.count = Math.ceil(response.data.count / 60);\n          this.btn_color_list = Array(response.data.count).fill(\"disable\");\n\n          //유저가 좋아요 한 화장품의 id는 버튼 컬러를 pink로 처리.\n          for (var i = 0; i <= this.$store.state.userInfo.like.length; i++)\n            this.btn_color_list.splice(\n              this.$store.state.userInfo.like[i].id,\n              1,\n              \"pink\"\n            );\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    // eslint-disable-line no-unused-vars\n    cosLike(cosPk) {\n      // eslint-disable-line no-unused-vars\n\n      // Dom에 배열이 변경된 것을 다시 리렌더링 하려면 splice같은 vue에서 지정된 함수를 써주어야 한다.\n      // 지정되어 있는 함수들 : push(), pop(), shift(), unshift(), splice(), sort(), reverse()\n      // this.btn_color_list[cosPk] = 'pink' 같은 형식으로 하면 리렌더링되지 않는다.\n      // 일단 2중 if문으로할까 하다가 이렇게 했는데 뭐가 더 나을지?...\n      if (\n        this.$store.state.userInfo !== null &&\n        this.btn_color_list[cosPk] === \"disable\"\n      ) {\n        this.btn_color_list.splice(cosPk, 1, \"pink\");\n      } else if (\n        this.$store.state.userInfo !== null &&\n        this.btn_color_list[cosPk] === \"pink\"\n      ) {\n        this.btn_color_list.splice(cosPk, 1, \"disable\");\n      }\n\n      // 수정된 좋아요가 마이페이지에 다시 갱신되기 위해서는 백엔드에서 수정된 유저 데이터를 다시 받아야 한다.\n      // 그렇게 되면 계속적인 요청으로 백엔드에 부하가 걸리므로 방지해야 한다.\n      // 때문에 현재 프론트에 저장되어 있는 유저 데이터를 수정하고, 백엔드에서 데이터를 다시 받기를 요청하지는 않도록 한다.\n      // 데이터의 무결성을 원한다면 다시 유저 데이터를 받는게 안전하기는 하다.\n      // for (var i = 0; i <= this.$store.state.userInfo.like.length; i++)\n      //   if (cosPk == this.$store.state.userInfo.like[i].id) {\n      //     this.$store.state.userInfo.like.splice(i, 1)\n      //     break;\n      //   }\n      //   else if (i == this.$store.state.userInfo.like.length && cosPk != this.$store.state.userInfo.like[i].id) {\n      //     this.$store.state.userInfo.like.push(cos_object)\n      //   }\n      axios({\n        method: \"post\",\n        url: \"http://127.0.0.1:8000/app/coslike/\",\n        data: {\n          pk: cosPk,\n        },\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access\")}`,\n        },\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cosList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cosList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cosList.vue?vue&type=template&id=d8890d0e&\"\nimport script from \"./cosList.vue?vue&type=script&lang=js&\"\nexport * from \"./cosList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VPagination } from 'vuetify/lib/components/VPagination';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCol,VContainer,VIcon,VImg,VPagination,VRow})\n"],"sourceRoot":""}